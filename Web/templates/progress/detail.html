{% extends 'layout/body.html' %}

{% block title %} AI Agora {% endblock %}
{% block add_scriptsheet %} {% endblock %}

{% block content %}
    <div class="container-sm">
        <div class="container">
            <h4 id="progress-topic">
                {{ progress.topic }}
            </h4>
        </div>
        <div class="container row">
            {% for position, data in progress.participants.items() %}
            <div class="col-sm-6 border">
                <span>
                    <strong>{{ position }}</strong> : {{ data.name }}</span>
                <ul>
                    <li>AI : {{ data.ai }}</li>
                    <li>속성 : {{ data.object_attribute }}</li>
                </ul>
            </div>
            {% endfor %}
        </div>
        <div>
            <div id="progress-log">
                {% for message in progress.debate_log %}
                    <div class="media border p-3">
                        <div class="media-body">
                            <strong>
                                <span class="speaker" data-position="{{ message.speaker }}">{{ message.speaker }}</span>
                            </strong>
                            <span class="timestamp">{{ message.timestamp }}</span>
                            <div class="message" style="white-space: pre-line;">
                                {{ message.message | replace("**", "<strong>") | replace("**", "</strong>") | safe }}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <button onclick='location.href="/progress"'> 대화 목록으로</button> 
    </div>
{% endblock %}